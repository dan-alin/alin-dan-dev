@import url('https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap');
@import 'tailwindcss';

@plugin '@tailwindcss/typography';

:root {
	/* TOKYO NIGHT DARK PALETTE */
	--tnd-purple: #bb9af7;
	--tnd-cyan: #2ac3de;
	--tnd-green: #9ece6a;
	--tnd-yellow: #e0af68;
	--tnd-orange: #ff9e64;
	--tnd-pink: #f7768e;
	--tnd-lavender: #c0caf5;
	--tnd-white: #e0def4;
	--tnd-gray: #414868;
	--tnd-black: #1a1b26;
}

html,
:root {
	--bg: var(--tnd-black);
	--fg: var(--tnd-white);
	--color-section: var(--tnd-purple);
	--color-heading: var(--tnd-green);
	--color-link: var(--tnd-cyan);
	--color-icons: var(--tnd-gray);
	--color-highlight: var(--tnd-green);
	--color-txt-hightlight: var(--tnd-black);
	--color-glow: var(--tnd-green);
	--color-outlines: var(--tnd-cyan);
}

html[data-theme='tokyonight'] {
	--bg: var(--tnd-black);
	--fg: var(--tnd-white);
	--color-section: var(--tnd-purple);
	--color-heading: var(--tnd-green);
	--color-link: var(--tnd-cyan);
	--color-icons: var(--tnd-gray);
	--color-highlight: var(--tnd-green);
	--color-txt-hightlight: var(--tnd-black);
	--color-glow: var(--tnd-green);
	--color-outlines: var(--tnd-cyan);
}

@theme {
	--font-roboto: 'Roboto Mono', monospace;
	--font-doto: 'Doto', monospace;

	--color-background: var(--bg);
	--color-foreground: var(--fg);
	--color-command: var(--color-section);
	--color-heading: var(--color-heading);
	--color-link: var(--color-link);
	--color-icons: var(--color-icons);
	--color-muted: var(--color-muted);
	--color-highlight: var(--color-highlight);
	--color-txt-highlight: var(--color-txt-highlight);
}

html {
	@apply font-roboto;
}

body {
	@apply flex flex-col items-center justify-center bg-background text-foreground;
}

body:before {
	content: '';
	transform-style: flat;
	pointer-events: none;
	z-index: -1;
	width: 100vw;
	height: 100dvh;
	position: fixed;
	top: 0px;
	background-image: radial-gradient(
		circle,
		color-mix(in srgb, var(--fg) 20%, transparent) 0.5px,
		transparent 1px
	);
	background-size: 20px 20px;
	mask: linear-gradient(-150deg, white 0%, transparent 30%, transparent 70%, white 80%);
}

body::after {
	content: '';
	pointer-events: none;
	z-index: -1;
	width: 100vw;
	height: 100dvh;
	position: fixed;
	top: 0;
	left: 0;

	background-image: radial-gradient(
		circle,
		color-mix(in srgb, var(--color-glow) 90%, transparent) 0.5px,
		transparent 1px
	);
	background-size: 20px 20px;

	/* Combine mouse-driven glow with base visibility mask */
	mask-composite: intersect;
	mask-image:
		radial-gradient(
			150px circle at var(--mx, 50%) var(--my, 50%),
			white 0%,
			color-mix(in srgb, white 80%, transparent) 20%,
			color-mix(in srgb, white 30%, transparent) 50%,
			transparent 80%
		),
		linear-gradient(-150deg, white 0%, transparent 30%, transparent 70%, white 80%);

	transition: mask 0.05s linear;
}

@utility background-dots {
	@apply bg-fixed;
	background-image: radial-gradient(
		circle,
		color-mix(in srgb, var(--fg) 10%, transparent) 1px,
		transparent 1px
	);
	background-size: 20px 20px;
}

@utility background-lines {
	@apply bg-fixed;
	background-image: repeating-linear-gradient(
		315deg,
		color-mix(in srgb, var(--fg) 6%, transparent) 0px,
		color-mix(in srgb, var(--fg) 6%, transparent) 1px,
		color-mix(in srgb, var(--fg) 2%, transparent) 2px,
		transparent 1px,
		transparent 10px
	);
}
